clear all; close all; clc;
setUpDirHFB_GF;
cd(HFRootFolder_GF);
 

% NOTES ON VERSION 3: Uses new way to read arduino (need to upload
% behaviorINV2 to arduino 'input'). Incorporate optogenetics code 3
% (inactivate at reinforcement). New way to initialize graph. New behavior
% performance graph at the end. (Saved in 'Figures' folder for each animal)

%% PARAMS ==================================================================
% ANIMAL ID
% cl
% if nargin < 1
anID = input('Please eJOnter animal ID:\n','s');
userID = input('Please enter your text ID (Ex.: VBP or GD or DHY):\n','s');
if isempty(userID)
    reply = 'gd';
end
% end


% Define params
params = defineParamsToneDiscrimination_GF(anID);
if ~isstruct(params) && isnan(params)
    returnARDUINO
end

% Open communication with Arduino ---
[ardIn,ardOut] = lever_cardSetUpInOutV2_GF;
ARDUINO.in = ardIn;
ARDUINO.out = ardOut;
ARDUINO.idx = 1;

% Initialize variables ---
estSamplingRate = 250;
estDur = 70; %minutes
nSamples = estSamplingRate*60*estDur;
ARDUINO.data = nan(nSamples,7);

recMVTV3(ARDUINO,dur,escapeKey)
